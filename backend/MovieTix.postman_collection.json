{
	"info": {
		"_postman_id": "aafe6bde-993e-4f7c-8dd2-86e544f06fb6",
		"name": "MovieTix",
		"description": "StartFragment\n\nBase URL: `http://localhost:8080`\n\nNotes\n\n- Unsecured root `/` will return 403 (expected). Public endpoints live under `/api/auth/**`.\n    \n- All protected requests require header: `Authorization: Bearer` .\n    \n- Content type for bodies: `Content-Type: application/json`.\n    \n\n### 1) Authentication (Public)\n\nRegister (default role = ROLE_CUSTOMER)\n\n```\nPOST /api/auth/register\n{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"password\": \"secret123\"\n}\n\n ```\n\nLogin (returns JWT)\n\n```\nPOST /api/auth/login\n{\n  \"email\": \"john@example.com\",\n  \"password\": \"secret123\"\n}\n\n ```\n\nResponse\n\n```\n{ \"token\": \"<JWT>\" }\n\n ```\n\nPostman example (cURL)\n\n```\ncurl -X POST http://localhost:8080/api/auth/register \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"name\":\"John\",\"email\":\"john@example.com\",\"password\":\"secret123\"}'\ncurl -X POST http://localhost:8080/api/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"email\":\"john@example.com\",\"password\":\"secret123\"}'\n\n ```\n\n### 2) Customer Endpoints (Require ROLE_CUSTOMER)\n\nList all movies\n\n```\nGET /api/movies\nAuthorization: Bearer <JWT>\n\n ```\n\nGet movie by id\n\n```\nGET /api/movies/{id}\nAuthorization: Bearer <JWT>\n\n ```\n\nSearch movies by title\n\n```\nGET /api/movies/search?title=star\nAuthorization: Bearer <JWT>\n\n ```\n\nShowtimes for a movie\n\n```\nGET /api/showtimes/movie/{movieId}\nAuthorization: Bearer <JWT>\n\n ```\n\nBook tickets\n\n```\nPOST /api/bookings\nAuthorization: Bearer <JWT>\n{\n  \"showtimeId\": 1,\n  \"numberOfSeats\": 2\n}\n\n ```\n\nMy booking history\n\n```\nGET /api/bookings/my-bookings\nAuthorization: Bearer <JWT>\n\n ```\n\nPostman examples (cURL)\n\n```\nTOKEN=<paste JWT here>\ncurl http://localhost:8080/api/movies -H \"Authorization: Bearer $TOKEN\"\ncurl http://localhost:8080/api/movies/search?title=star -H \"Authorization: Bearer $TOKEN\"\ncurl http://localhost:8080/api/showtimes/movie/1 -H \"Authorization: Bearer $TOKEN\"\ncurl -X POST http://localhost:8080/api/bookings \\\n  -H \"Authorization: Bearer $TOKEN\" -H \"Content-Type: application/json\" \\\n  -d '{\"showtimeId\":1,\"numberOfSeats\":2}'\ncurl http://localhost:8080/api/bookings/my-bookings -H \"Authorization: Bearer $TOKEN\"\n\n ```\n\n### 3) Admin Endpoints (Require ROLE_ADMIN)\n\nMovies\n\n```\nPOST   /api/admin/movies\nGET    /api/admin/movies\nGET    /api/admin/movies/{id}\nPUT    /api/admin/movies/{id}\nDELETE /api/admin/movies/{id}\n\n ```\n\nCreate movie (body)\n\n```\n{\n  \"title\": \"Interstellar\",\n  \"genre\": \"Sci-Fi\",\n  \"durationInMinutes\": 169,\n  \"releaseDate\": \"2014-11-07\",\n  \"description\": \"A space epic.\"\n}\n\n ```\n\nTheaters\n\n```\nPOST   /api/admin/theaters\nGET    /api/admin/theaters\nPUT    /api/admin/theaters/{id}\nDELETE /api/admin/theaters/{id}\n\n ```\n\nCreate theater (body)\n\n```\n{\n  \"name\": \"Cinema One\",\n  \"location\": \"Downtown\",\n  \"seatingCapacity\": 200\n}\n\n ```\n\nShowtimes\n\n```\nPOST   /api/admin/showtimes\nGET    /api/admin/showtimes\nPUT    /api/admin/showtimes/{id}\nDELETE /api/admin/showtimes/{id}\n\n ```\n\nCreate showtime (body)\n\n```\n{\n  \"movieId\": 1,\n  \"theaterId\": 1,\n  \"showDateTime\": \"2025-09-10T19:30:00\",\n  \"ticketPrice\": 12.5\n}\n\n ```\n\nBookings overview\n\n```\nGET /api/admin/bookings\nGET /api/admin/bookings/user/{userId}\n\n ```\n\nPromote a user to admin\n\n```\nPOST /api/admin/users/{userId}/make-admin\n\n ```\n\nPostman examples (cURL)\n\n```\nADMIN_JWT=<paste admin JWT>\ncurl -X POST http://localhost:8080/api/admin/movies \\\n  -H \"Authorization: Bearer $ADMIN_JWT\" -H \"Content-Type: application/json\" \\\n  -d '{\"title\":\"Interstellar\",\"genre\":\"Sci-Fi\",\"durationInMinutes\":169,\"releaseDate\":\"2014-11-07\",\"description\":\"A space epic.\"}'\ncurl http://localhost:8080/api/admin/movies -H \"Authorization: Bearer $ADMIN_JWT\"\ncurl -X PUT http://localhost:8080/api/admin/movies/1 \\\n  -H \"Authorization: Bearer $ADMIN_JWT\" -H \"Content-Type: application/json\" \\\n  -d '{\"title\":\"Interstellar (Extended)\",\"genre\":\"Sci-Fi\",\"durationInMinutes\":175,\"releaseDate\":\"2014-11-07\",\"description\":\"Extended cut.\"}'\ncurl -X DELETE http://localhost:8080/api/admin/movies/1 -H \"Authorization: Bearer $ADMIN_JWT\"\ncurl -X POST http://localhost:8080/api/admin/theaters \\\n  -H \"Authorization: Bearer $ADMIN_JWT\" -H \"Content-Type: application/json\" \\\n  -d '{\"name\":\"Cinema One\",\"location\":\"Downtown\",\"seatingCapacity\":200}'\ncurl -X POST http://localhost:8080/api/admin/showtimes \\\n  -H \"Authorization: Bearer $ADMIN_JWT\" -H \"Content-Type: application/json\" \\\n  -d '{\"movieId\":1,\"theaterId\":1,\"showDateTime\":\"2025-09-10T19:30:00\",\"ticketPrice\":12.5}'\ncurl http://localhost:8080/api/admin/bookings -H \"Authorization: Bearer $ADMIN_JWT\"\ncurl http://localhost:8080/api/admin/bookings/user/1 -H \"Authorization: Bearer $ADMIN_JWT\"\ncurl -X POST http://localhost:8080/api/admin/users/1/make-admin -H \"Authorization: Bearer $ADMIN_JWT\"\n\n ```\n\n### 4) Getting an Admin Token (if you have none yet)\n\nOption A (SQL)\n\n```\nUPDATE users SET role = 'ROLE_ADMIN' WHERE email = 'admin@example.com';\n\n ```\n\nThen login again and use the returned token for `/api/admin/**`.\n\n### 5) Common HTTP Headers in Postman\n\n- Key: `Content-Type`, Value: `application/json`\n    \n- Key: `Authorization`, Value: `Bearer`\n    \n\nEndFragment",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "41587349"
	},
	"item": [
		{
			"name": "Public",
			"item": [
				{
					"name": "Public: Register",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"name\": \"John Doe\",\r\n  \"email\": \"john@example.com\",\r\n  \"password\": \"secret123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/api/auth/register",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"api",
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "Public: Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"email\": \"john@example.com\",\r\n  \"password\": \"secret123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseURL}}/api/auth/login",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Customer",
			"item": [
				{
					"name": "Customer: List movies",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqb2huQGV4YW1wbGUuY29tIiwicm9sZSI6IlJPTEVfQ1VTVE9NRVIiLCJpYXQiOjE3NTc0MTE4OTUsImV4cCI6MTc1NzQ5ODI5NX0.lTGwXZUeQQyIZ0-Hul_yAkn7FKU7RDtOKxxu8UN2k1M",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseURL}}/api/movies",
							"host": [
								"{{baseURL}}"
							],
							"path": [
								"api",
								"movies"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Admin",
			"item": [
				{
					"name": "Movies",
					"item": [
						{
							"name": "Admin: Manage movies",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoYXJkaWtAYWRtaW4uY29tIiwicm9sZSI6IlJPTEVfQURNSU4iLCJpYXQiOjE3NTc0MTI3NjYsImV4cCI6MTc1NzQ5OTE2Nn0.3u0q4FKUlNoDv5jbHFcgt4Unu2asmNzfvSpzC45EZgE",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{baseURL}}/api/admin/movies/7",
									"host": [
										"{{baseURL}}"
									],
									"path": [
										"api",
										"admin",
										"movies",
										"7"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Theaters",
					"item": [
						{
							"name": "Admin: Manage theaters",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoYXJkaWtAYWRtaW4uY29tIiwicm9sZSI6IlJPTEVfQURNSU4iLCJpYXQiOjE3NTc0MTI3NjYsImV4cCI6MTc1NzQ5OTE2Nn0.3u0q4FKUlNoDv5jbHFcgt4Unu2asmNzfvSpzC45EZgE",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"name\": \"Cinema One\",\r\n  \"location\": \"Downtown\",\r\n  \"seatingCapacity\": 200\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseURL}}/api/admin/theaters",
									"host": [
										"{{baseURL}}"
									],
									"path": [
										"api",
										"admin",
										"theaters"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Showtimes",
					"item": [
						{
							"name": "Admin: Showtimes",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoYXJkaWtAYWRtaW4uY29tIiwicm9sZSI6IlJPTEVfQURNSU4iLCJpYXQiOjE3NTc0MTI3NjYsImV4cCI6MTc1NzQ5OTE2Nn0.3u0q4FKUlNoDv5jbHFcgt4Unu2asmNzfvSpzC45EZgE",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"movieId\": 1,\r\n  \"theaterId\": 1,\r\n  \"showDateTime\": \"2025-09-10T19:30:00\",\r\n  \"ticketPrice\": 12.5\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseURL}}/api/admin/showtimes",
									"host": [
										"{{baseURL}}"
									],
									"path": [
										"api",
										"admin",
										"showtimes"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Bookings",
					"item": [
						{
							"name": "Admin: Bookings overview",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJoYXJkaWtAYWRtaW4uY29tIiwicm9sZSI6IlJPTEVfQURNSU4iLCJpYXQiOjE3NTc0MTI3NjYsImV4cCI6MTc1NzQ5OTE2Nn0.3u0q4FKUlNoDv5jbHFcgt4Unu2asmNzfvSpzC45EZgE",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseURL}}/api/admin/bookings",
									"host": [
										"{{baseURL}}"
									],
									"path": [
										"api",
										"admin",
										"bookings"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		}
	],
	"auth": {
		"type": "bearer"
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseURL",
			"value": ""
		}
	]
}